В задаче требуется найти число различных наборов <script type="math/tex">a,b,c,d,e,f</script> таких, что выполнено
<script type="math/tex; mode=display">\begin{pmatrix}1&2&3&4&5&6\\b&c&a&e&f&d\end{pmatrix} = \begin{pmatrix}1&2&3&4&5&6\\a&b&c&d&e&f\end{pmatrix} \begin{pmatrix}1&2&3&4&5&6\\2&3&1&5&6&4\end{pmatrix}.</script>
Заметим, что, например, утверждение <script type="math/tex">a=1</script> полностью задает весь цикл (<script type="math/tex">a=1</script>, <script type="math/tex">b=2</script>, <script type="math/tex">c=3</script>). Подставляя другие значения <script type="math/tex">a</script> убеждаемся, что на местах <script type="math/tex">a,b,c</script> может быть либо циклическая перестановка <script type="math/tex">1,2,3</script>, либо циклическая перестановка <script type="math/tex">4,5,6</script>. Проведя аналогичные рассуждения для <script type="math/tex">d,e,f</script> получим, что число всех возможных наборов равно <script type="math/tex">2 \cdot 3^2 = 18</script>.<br>
<i>Примечание.</i> Точно так же можно доказать и более общее утверждение. Если перестановка состоит из циклов, различные длины которых равны <script type="math/tex">n_1, n_2, \ldots, n_k</script> и каждая длина <script type="math/tex">n_i</script> встречается <script type="math/tex">m_i</script> раз, то число перестановок, которые с ней коммутируют, равно
<script type="math/tex; mode=display">\prod\limits_{i=1}^k m_i! \: n_i^{m_i}.</script>
