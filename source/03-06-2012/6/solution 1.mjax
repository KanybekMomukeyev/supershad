Идея состоит в том, чтобы рассматривать массив <script type="math/tex">A</script> как подстановку. Пусть индекс <script type="math/tex">i</script> пробегает значения от <script type="math/tex">0</script> до <script type="math/tex">n-1</script>. Когда мы встречаем положительный элемент <script type="math/tex">A[i]</script>, переходим от него к элементу 
<script type="math/tex">A[A[i]-1]</script>, от элемента <script type="math/tex">A[A[i]-1]</script> к элементу <script type="math/tex">A[A[A[i]-1]-1]</script> и так далее, пока мы не не вернемся к <script type="math/tex">A[i]</script>, либо не сможем совершить очередной шаг (в таком случае, массив перестановкой не является). В процессе меняем знак всех пройденных элементов на отрицательный. Поскольку на каждом элементе массива мы можем оказаться максимум два раза, итоговая сложность &#8212; <script type="math/tex">O(n)</script>. Дополнительная память &#8212; <script type="math/tex">O(1)</script>.
